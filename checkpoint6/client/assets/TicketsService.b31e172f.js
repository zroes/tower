import{T as k,A as i,h as c,l as s}from"./index.602168d1.js";class n{constructor(t){this.id=t.id,this.eventId=t.eventId,this.accountId=t.accountId,this.profile=t.profile,this.event=new k(t.event)}}class r{async getTickets(t){i.tickets=[];const e=await c.get("api/events/"+t+"/tickets");s.log("[Getting Tickets for Event]",e.data),i.tickets=e.data.map(a=>new n(a))}async createTicket(t){const e=await c.post("api/tickets",t);s.log("[Creating ticket]",e.data),i.tickets.push(new n(e.data)),i.activeEvent.capacity-=1}async deleteTicket(t){const e=await c.delete("api/tickets/"+t);s.log("[Deleting Ticket]",t,e.data),i.tickets=i.tickets.filter(a=>a.id!=t),i.activeEvent.capacity+=1}async getMyTickets(){const t=await c.get("account/tickets");s.log("[Getting events I have tickets for]",t.data),i.tickets=t.data.map(e=>new n(e)),s.log(i.tickets)}}const g=new r;export{g as t};
